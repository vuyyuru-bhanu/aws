{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "this is test fomration templeat to resuse",
    "Parameters": {
        "zone1": {
            "Description": "select avilability zone",
            "Type": "AWS::EC2::AvailabilityZone::Name",
            "Default": "ap-south-1a"
        },
        "zone2": {
            "Description": "select avilability zone",
            "Type": "AWS::EC2::AvailabilityZone::Name",
            "Default": "ap-south-1b"
        },
        "zone3": {
            "Description": "select avilability zone",
            "Type": "AWS::EC2::AvailabilityZone::Name",
            "Default": "ap-south-1c"
        },
        "cidervpc": {
            "Description": "type cider range for vpc",
            "Type": "String",
            "Default": "192.168.0.0/16"
        },
        "subnet1cider": {
            "Description": "type subnet 1 cider range ",
            "Type": "String",
            "Default": "192.168.1.0/24"
        },
        "subnet2cider": {
            "Description": "type subnet 2 cider range ",
            "Type": "String",
            "Default": "192.168.2.0/24"
        },
        "subnet3cider": {
            "Description": "type subnet 3 cider range ",
            "Type": "String",
            "Default": "192.168.3.0/24"
        },
        "subnet4cider": {
            "Description": "type subnet 4 cider range ",
            "Type": "String",
            "Default": "192.168.4.0/24"
        }
    },
    "Resources": {
        "testvpc": {
            "Description": "voc of this template",
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": {
                    "Ref": "cidervpc"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "testd"
                    }
                ]
            }
        },
        "subnet1": {
            "Description": "this is subnet 1",
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": {
                    "Ref": "zone1"
                },
                "VpcId": {
                    "Ref": "testvpc"
                },
                "CidrBlock": {
                    "Ref": "subnet1cider"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "subnet1"
                    }
                ]
            }
        },
        "subnet2": {
            "Description": "this is subnet 2",
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": {
                    "Ref": "zone2"
                },
                "VpcId": {
                    "Ref": "testvpc"
                },
                "CidrBlock": {
                    "Ref": "subnet2cider"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "subnet2"
                    }
                ]
            }
        },
        "subnet3": {
            "Description": "this is subnet 3",
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": {
                    "Ref": "zone3"
                },
                "VpcId": {
                    "Ref": "testvpc"
                },
                "CidrBlock": {
                    "Ref": "subnet3cider"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "subnet3"
                    }
                ]
            }
        },
        "subnet4": {
            "Description": "this is subnet 4",
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "AvailabilityZone": {
                    "Ref": "zone2"
                },
                "VpcId": {
                    "Ref": "testvpc"
                },
                "CidrBlock": {
                    "Ref": "subnet4cider"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "subnet4"
                    }
                ]
            }
        },
        "testigw": {
            "Description": "this is igw ",
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "internet"
                    }
                ]
            }
        },
        "AttachGateway": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "VpcId": {
                    "Ref": "testvpc"
                },
                "InternetGatewayId": {
                    "Ref": "testigw"
                }
            }
        },
        "publicrt": {
            "Description": "this is public ",
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "testvpc"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "pub"
                    }
                ]
            }
        },
        "privatert": {
            "Description": "this is private ",
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "testvpc"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "priv"
                    }
                ]
            }
        },
        "publictroute": {
            "Description": "this is public route ",
            "Type": "AWS::EC2::Route",
            "Properties": {
                "RouteTableId": {
                    "Ref": "publicrt"
                },
                "DestinationCidrBlock": "0.0.0.0/0",
                "GatewayId": {
                    "Ref": "testigw"
                }
            }
        },
        "sub1rt": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet1"
                },
                "RouteTableId": {
                    "Ref": "publicrt"
                }
            }
        },
        "sub2rt": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet2"
                },
                "RouteTableId": {
                    "Ref": "privatert"
                }
            }
        },
        "sub3rt": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet3"
                },
                "RouteTableId": {
                    "Ref": "publicrt"
                }
            }
        },
        "sub4rt": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "subnet4"
                },
                "RouteTableId": {
                    "Ref": "privatert"
                }
            }
        }
    }
}